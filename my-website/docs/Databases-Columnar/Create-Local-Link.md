---
sidebar_position: 4
title: "Local Link and Collections"
---

# Add a Local Link Reference

The _Database_ and _Scope_ have been selected.

:::info
Remember there is no _Local Link_. **standalone** collections are created directly on the Columnar Instance and are really not "linked" to anything. However, in DataStudio, to maintain a consistent UI Experience, standlaone collections are created in he built-in Local Link.
:::

### Step 1: Add Local Link Reference

Click the **LinkRef** button in the Links Table ToolBar. This will bring up the list of choices:
<img src="/img/columnar/link-add-local-reference.png" width="400" alt="link-add-local-reference" />
After adding the Link Reference, you will see the link.

- Click on the Link Reference
- This will enable to Add Collection button

### Step 2: Add Collection

<img src="/img/columnar/dataset-local-movies.png" width="600" alt="dataset-local-movies" />

- Name the Collection
- You need to provide the **Primary Key** for this Collection

  - **Option 1: Autogenerate**
    - The PK is autogenerated as a UUID string
    - You can name the key instead of accepting the default _columnar_id_ of you want.
    - This is a good, safe option
  - **Option 1: Specify a comma delimited list of field names and types**
    - Example: \`movie title\`: string, \`Rating\`: bigint
    - Do this only if you **sure** that each document in this collection have these fields.

- Once satisfied, **Proceed** with Adding Collections.
- The info box shows you the DDL being run.
- Dataset and Collection is synonymous.

#### Post Add Collection

Once Collections have been added, the UI now will show:
![dataset-couchbase-travel](/img/columnar/dataset-couchbase-travel.png)

- The Collections have been added
- Data is still not fetched yet, the link is not connected!
- Now it time to **Connect** to the source to fetch the data into the Columnar Collection.

### Step 3: Connect the Link

- Set the **Connect Switch** to **ON**
- This will fetch the documents into the collections
  - Note that Items still do show the number of documents
  - The Schema column still shows a red tick mark

### Step 4: Get Schemas (optional, but nice)

- Click the **Get Schemas** button. It:
  - Fetches the **item count**
  - Fetches one **sample document** and attaches it to the Collection
  - Fetches the **schema** for that Collection and attaches it to the Collection<br />
    :::info
    This is an expensive operation and need to be performed just once.
    :::

The UI now shows:
![dataset-couchbase-full](/img/columnar/dataset-couchbase-full.png)

## Example: Adding Collection with Filter

![dataset-couchbase-beers](/img/columnar/dataset-couchbase-beers.png)

- Example shows how to apply a Filter
- Note that the Collection Name cannot begin with an _underscore_
- After editing the Filter column, remember to press **Enter** button.
