"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[8817],{87:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>r,contentTitle:()=>o,default:()=>h,frontMatter:()=>l,metadata:()=>c,toc:()=>d});var i=s(5893),t=s(1151);const l={sidebar_position:6,title:"Amazon S3 Link and Collections"},o="Add a AWS S3 Link",c={id:"Databases-Columnar/Create-S3-Link",title:"Amazon S3 Link and Collections",description:"The Database and Scope have been selected.",source:"@site/docs/Databases-Columnar/Create-S3-Link.md",sourceDirName:"Databases-Columnar",slug:"/Databases-Columnar/Create-S3-Link",permalink:"/docs/Databases-Columnar/Create-S3-Link",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:6,frontMatter:{sidebar_position:6,title:"Amazon S3 Link and Collections"},sidebar:"tutorialSidebar",previous:{title:"Couchbase Link and Collections",permalink:"/docs/Databases-Columnar/Create-CB-Link"},next:{title:"Confluent Link and Collections",permalink:"/docs/Databases-Columnar/Create-Confluent-Link"}},r={},d=[{value:"Step 1: Add Couchbase Link Reference",id:"step-1-add-couchbase-link-reference",level:3},{value:"Step 2: Add Collection",id:"step-2-add-collection",level:3},{value:"Add Collections (parquet)",id:"add-collections-parquet",level:3},{value:"Add Collections (csv)",id:"add-collections-csv",level:3},{value:"Post Add Collection",id:"post-add-collection",level:3},{value:"Step 3: Get Schemas (optional, but nice)",id:"step-3-get-schemas-optional-but-nice",level:3}];function a(e){const n={admonition:"admonition",code:"code",em:"em",h1:"h1",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.a)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h1,{id:"add-a-aws-s3-link",children:"Add a AWS S3 Link"}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.em,{children:"Database"})," and ",(0,i.jsx)(n.em,{children:"Scope"})," have been selected."]}),"\n",(0,i.jsx)(n.h3,{id:"step-1-add-couchbase-link-reference",children:"Step 1: Add Couchbase Link Reference"}),"\n",(0,i.jsxs)(n.p,{children:["Click the ",(0,i.jsx)(n.strong,{children:"LinkRef"})," button in the Links Table ToolBar. This will bring up the list of choices:"]}),"\n",(0,i.jsx)("img",{src:"/img/columnar/link-add-s3-reference.png",width:"400",alt:"link-add-s3-reference"}),"\n",(0,i.jsx)(n.p,{children:"After adding the Link Reference, you will see the link"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Click on the ",(0,i.jsx)(n.em,{children:"Link Reference"})]}),"\n",(0,i.jsxs)(n.li,{children:["This will enable to ",(0,i.jsx)(n.strong,{children:"Add Collection"})," button"]}),"\n",(0,i.jsxs)(n.li,{children:["Note that the Link has not ",(0,i.jsx)(n.strong,{children:"Connect"})," switch."]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"step-2-add-collection",children:"Step 2: Add Collection"}),"\n",(0,i.jsx)(n.p,{children:"Now let's add collections from the Source AWS S3 Bucket. We will add 2 types of file as an example"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Parquet Files"}),"\n",(0,i.jsx)(n.li,{children:"CSV Files"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"add-collections-parquet",children:"Add Collections (parquet)"}),"\n",(0,i.jsxs)(n.p,{children:["Click the ",(0,i.jsx)(n.strong,{children:"Add Collection"})," and you will get this form:"]}),"\n",(0,i.jsx)("img",{src:"/img/columnar/dataset-s3-parquet.png",width:"600",alt:"dataset-s3-parquet"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Choose the Folder from the left Panel"}),"\n",(0,i.jsx)(n.li,{children:"Choose the file type on the right Panel"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Lets see the options here:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Name"}),": The Folder name is chosen for you, and you can change that if you want."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"File Filter"}),": You can choose to have no filters or a exclude filter or an include filter.","\n",(0,i.jsxs)(n.admonition,{type:"info",children:[(0,i.jsxs)(n.p,{children:["What is a ",(0,i.jsx)(n.strong,{children:"file filter"}),"? ",(0,i.jsx)("br",{}),"\nIn the filter box, enter the names of the files to be included/excluded from the external collection.",(0,i.jsx)("br",{}),"\nThe file name may include subdirectories of the location specified by the Path option.",(0,i.jsx)("br",{}),"\nAny files that do not match the specification are included/excluded.",(0,i.jsx)("br",{}),"\nInclude and Exclude are mutually exclusive.",(0,i.jsx)("br",{}),"\nThe file names may contain the following wildcard characters:"]}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:'  * \u2014 Matches anything\n  ? \u2014 Matches any single character\n  [ sequence ] \u2014 Matches any characters in sequence\n  [! sequence ] \u2014 Matches any characters not in sequence\n  For example: ["*2018*.json", "*2019*.json"].\n'})})]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["Click on ",(0,i.jsx)(n.strong,{children:"Proceed Button"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["This will add ",(0,i.jsx)(n.strong,{children:"all"})," the documents in the chosen Folder."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"add-collections-csv",children:"Add Collections (csv)"}),"\n",(0,i.jsx)(n.p,{children:"After adding the Collection, let's add the csv Collection from the same form:"}),"\n",(0,i.jsx)("img",{src:"/img/columnar/dataset-s3-csv.png",width:"600",alt:"dataset-s3-csv"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Choose the Folder from the left Panel"}),"\n",(0,i.jsx)(n.li,{children:"Choose the file type on the right Panel"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Lets see the options here:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Name"}),": The Folder name is chosen for you, and you can change that if you want."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"File Filter"}),": Discussed above."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Headers Switch"}),":","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"ON"}),": Every file has a header"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"OFF"}),": Every file has no headers","\n",(0,i.jsxs)(n.admonition,{title:"Header",type:"info",children:[(0,i.jsx)("img",{src:"/img/columnar/headers.png",width:"600",alt:"headers"}),(0,i.jsx)(n.p,{children:"The first row is the header."})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Schema Expression"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Schema Expression describes the schema of the collection. Generally, you open the file, look at the headers and build this expression."}),"\n",(0,i.jsxs)(n.li,{children:["Capella DataStudio comes with a convenient ",(0,i.jsx)(n.strong,{children:"Schema Expn Help"})," button. To use this:","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"To the left of this button is a drop down list which allows to to choose a file in Folder. Choose the one with Header."}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.li,{children:"After choosing the file, click the button."}),"\n",(0,i.jsxs)(n.li,{children:["The suggested Schema Expression is displayed in the Edit box. You can Edit this if you want. The format is:","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Field Name: In back ticks"}),"\n",(0,i.jsx)(n.li,{children:"Type: string | bigint | boolean. You can change if you want"}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.em,{children:"not unknown"}),": This string means, if the field is not avaialable in the document, ignore that document."]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["Click on ",(0,i.jsx)(n.strong,{children:"Proceed Button"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["This will add ",(0,i.jsx)(n.strong,{children:"all"})," the documents in the chosen Folder."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"post-add-collection",children:"Post Add Collection"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"The Collections have been added"}),"\n",(0,i.jsxs)(n.li,{children:["Data is fetched, the link is always connected!","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Note that Items still do show the number of documents"}),"\n",(0,i.jsx)(n.li,{children:"The Schema column still shows a red tick mark"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"step-3-get-schemas-optional-but-nice",children:"Step 3: Get Schemas (optional, but nice)"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Click the ",(0,i.jsx)(n.strong,{children:"Get Schemas"})," button. It:","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Fetches the ",(0,i.jsx)(n.strong,{children:"item count"})]}),"\n",(0,i.jsxs)(n.li,{children:["Fetches one ",(0,i.jsx)(n.strong,{children:"sample document"})," and attaches it to the Collection"]}),"\n",(0,i.jsxs)(n.li,{children:["Fetches the ",(0,i.jsx)(n.strong,{children:"schema"})," for that Collection and attaches it to the Collection",(0,i.jsx)("br",{}),"\n",(0,i.jsx)(n.admonition,{type:"info",children:(0,i.jsx)(n.p,{children:"This is an expensive operation and need to be performed just once."})}),"\n"]}),"\n"]}),"\n"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,t.a)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(a,{...e})}):a(e)}},1151:(e,n,s)=>{s.d(n,{Z:()=>c,a:()=>o});var i=s(7294);const t={},l=i.createContext(t);function o(e){const n=i.useContext(l);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:o(e.components),i.createElement(l.Provider,{value:n},e.children)}}}]);