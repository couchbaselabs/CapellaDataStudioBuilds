"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[7802],{6234:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>d,default:()=>x,frontMatter:()=>i,metadata:()=>l,toc:()=>h});var r=s(5893),t=s(1151);const i={sidebar_position:7,title:"Expressions"},d="Expressions",l={id:"Synthetic-Data/expressions",title:"Expressions",description:"Expressions are a powerful way of customizing the schema. How do they work?",source:"@site/docs/Synthetic-Data/expressions.md",sourceDirName:"Synthetic-Data",slug:"/Synthetic-Data/expressions",permalink:"/docs/Synthetic-Data/expressions",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:7,frontMatter:{sidebar_position:7,title:"Expressions"},sidebar:"tutorialSidebar",previous:{title:"User Typesets",permalink:"/docs/Synthetic-Data/userTypesets"},next:{title:"Data Generation",permalink:"/docs/Synthetic-Data/dataGeneration"}},c={},h=[{value:"Example",id:"example",level:2},{value:"Document and Expression architecture",id:"document-and-expression-architecture",level:2},{value:"Functions",id:"functions",level:2},{value:"Notes",id:"notes",level:3}];function a(e){const n={code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.a)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h1,{id:"expressions",children:"Expressions"}),"\n",(0,r.jsx)(n.p,{children:"Expressions are a powerful way of customizing the schema. How do they work?"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Expressions are just strings"}),"\n",(0,r.jsxs)(n.li,{children:["They can have embbeded ",(0,r.jsx)(n.strong,{children:"references"})," (enclosed in %%) and ",(0,r.jsx)(n.strong,{children:"functions"})]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"example",children:"Example"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.img,{alt:"synth-expressions",src:s(9725).Z+"",width:"2672",height:"1502"}),"\nLet's examine 3 fields with Expressions:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"id"}),": person_seq(1)","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Expression has an embedded ",(0,r.jsx)(n.strong,{children:"function"}),", ",(0,r.jsx)(n.em,{children:"seq(1)"})]}),"\n",(0,r.jsx)(n.li,{children:"The function is evaluated and the output of the function, which is an int, replaced in the string"}),"\n",(0,r.jsxs)(n.li,{children:["The output then is: ",(0,r.jsx)(n.em,{children:"person_37"})]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"iam"}),": Iam %name% gender %-gender%","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Expression has 2 embedded ",(0,r.jsx)(n.strong,{children:"references"})]}),"\n",(0,r.jsxs)(n.li,{children:["The reference is to ",(0,r.jsx)(n.strong,{children:"fields"}),", ",(0,r.jsx)(n.em,{children:"name"})," and *-gender *which have been previously declared and evaluated"]}),"\n",(0,r.jsx)(n.li,{children:"These values are replaced in the string"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"numberAdded"}),": add(%number%,10)","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Expression just has a ",(0,r.jsx)(n.strong,{children:"function"})," ",(0,r.jsx)(n.em,{children:"add"})," with an embedded ",(0,r.jsx)(n.strong,{children:"reference"})]}),"\n",(0,r.jsx)(n.li,{children:"The reference is first evaluated and its value replaced in the function"}),"\n",(0,r.jsx)(n.li,{children:"The function is then executed"}),"\n",(0,r.jsx)(n.li,{children:"The output is returned"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"document-and-expression-architecture",children:"Document and Expression architecture"}),"\n",(0,r.jsx)(n.p,{children:"From the above, we can see how Expressions work. But first, let's see how the document is built."}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["The document is built, top down, row by row.","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"We always have a partial document at every row stage."}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.li,{children:"First, the expression is a string"}),"\n",(0,r.jsxs)(n.li,{children:["It goes to an ",(0,r.jsx)(n.strong,{children:"Expression Evaluator"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["The partial document, with its fields and values is supplied to the evaluator.","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"This means, the previous fields and their evluated values are now available."}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["The string is then examined for ",(0,r.jsx)(n.strong,{children:"references"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"References are field names, previously used, and their values, from the partial document."}),"\n",(0,r.jsx)(n.li,{children:"References are replaced by the values"}),"\n",(0,r.jsxs)(n.li,{children:["This means that references can also be inside of ",(0,r.jsx)(n.strong,{children:"functions"})]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["The string is then examined for ",(0,r.jsx)(n.strong,{children:"functions"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"The functions are then executed and their values are replaced in the partial document."}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.li,{children:"The Evaluator finally returns back the output."}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"functions",children:"Functions"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{children:"Example"}),(0,r.jsx)(n.th,{children:"Output"}),(0,r.jsx)(n.th,{children:"Notes"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"int(min,max)"}),(0,r.jsx)(n.td,{children:"int(1,10)"}),(0,r.jsx)(n.td,{children:"6"}),(0,r.jsx)(n.td,{})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"float(min,max)"}),(0,r.jsx)(n.td,{children:"float(1.234,10.587)"}),(0,r.jsx)(n.td,{children:"5.824"}),(0,r.jsx)(n.td,{children:"decimals taken from input"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"float(min,max,dec)"}),(0,r.jsx)(n.td,{children:"float(1,10,2)"}),(0,r.jsx)(n.td,{children:"5.82"}),(0,r.jsx)(n.td,{children:"decimals specified"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"normal(mean,stddev,dec)"}),(0,r.jsx)(n.td,{children:"normal(50,10,3)"}),(0,r.jsx)(n.td,{children:"56.48"}),(0,r.jsx)(n.td,{children:"normal distribution"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"bool()"}),(0,r.jsx)(n.td,{children:"bool()"}),(0,r.jsx)(n.td,{children:"false"}),(0,r.jsx)(n.td,{children:"50/50 chance"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"bool(bias)"}),(0,r.jsx)(n.td,{children:"bool(0.8)"}),(0,r.jsx)(n.td,{children:"true"}),(0,r.jsx)(n.td,{children:"weighted to true 0 to 1.0"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"date(from,to)"}),(0,r.jsx)(n.td,{children:"date(01/01/2024,12/31/2024)"}),(0,r.jsx)(n.td,{children:'"02/02/2024"'}),(0,r.jsx)(n.td,{children:"configurable output pattern"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"time(from,to)"}),(0,r.jsx)(n.td,{children:"time(08:00 am, 5:00 pm)"}),(0,r.jsx)(n.td,{children:'"08:47 AM"'}),(0,r.jsx)(n.td,{children:"configurable output pattern"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"arrayItem(array)"}),(0,r.jsx)(n.td,{children:'arrayItem(["cat","mouse","dog"])'}),(0,r.jsx)(n.td,{children:'"cat"'}),(0,r.jsx)(n.td,{children:"equally weighted"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"arrayItem(array)"}),(0,r.jsx)(n.td,{children:'arrayItem(["cat:2","mouse:1","dog:7"])'}),(0,r.jsx)(n.td,{children:'"dog"'}),(0,r.jsx)(n.td,{children:"weighted array"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"arrayItems(array,length)"}),(0,r.jsx)(n.td,{children:'arrayItems(["cat","mouse","dog"],2)'}),(0,r.jsx)(n.td,{children:'["cat","mouse"]'}),(0,r.jsx)(n.td,{children:"equally weighted"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"arrayItems(array,length)"}),(0,r.jsx)(n.td,{children:'arrayItems(["cat:2","mouse:1","dog:7"])'}),(0,r.jsx)(n.td,{children:'["cat","dog"]'}),(0,r.jsx)(n.td,{children:"weighted array"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"arrayKV(array,field)"}),(0,r.jsx)(n.td,{children:'arrayKV(["cat:2","mouse:1","dog:7"],"cat")'}),(0,r.jsx)(n.td,{children:"2"}),(0,r.jsx)(n.td,{children:"value of field"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"gps(latitude,longitude)"}),(0,r.jsx)(n.td,{children:"gps(37.3382,-121.8863)"}),(0,r.jsx)(n.td,{children:"gpsObject"}),(0,r.jsx)(n.td,{children:"returns object"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"gpsNearby(gps,radius)"}),(0,r.jsx)(n.td,{children:"gpsNearby(%gps%,20)"}),(0,r.jsx)(n.td,{children:"gpsObject"}),(0,r.jsx)(n.td,{children:"returns object, generally use reference, radius in miles"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"seq(startNumber)"}),(0,r.jsx)(n.td,{children:"seq(1000)"}),(0,r.jsx)(n.td,{children:"1030"}),(0,r.jsx)(n.td,{children:"generally used like: store_seq(1)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"uuid()"}),(0,r.jsx)(n.td,{children:"uuid()"}),(0,r.jsx)(n.td,{children:'"e46b493a-ac90-4258-ad69-ec4bd94ebf59"'}),(0,r.jsx)(n.td,{children:"uuid"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"add(num1,num2)"}),(0,r.jsx)(n.td,{children:"add(1.23,3.45)"}),(0,r.jsx)(n.td,{children:"4.68"}),(0,r.jsx)(n.td,{children:"pass numbers"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"subtract(num1,num2)"}),(0,r.jsx)(n.td,{children:"subtract(1.23,3.45)"}),(0,r.jsx)(n.td,{children:"-2.22"}),(0,r.jsx)(n.td,{children:"pass numbers"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"multiply(num1,num2)"}),(0,r.jsx)(n.td,{children:"multiply(1.23,3.45)"}),(0,r.jsx)(n.td,{children:"4.24"}),(0,r.jsx)(n.td,{children:"pass numbers"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"percent(numerator,denominator)"}),(0,r.jsx)(n.td,{children:"percent(1.23,3.45)"}),(0,r.jsx)(n.td,{children:'"35.65%"'}),(0,r.jsx)(n.td,{children:"outputs string"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"accumulate(nums,name)"}),(0,r.jsx)(n.td,{children:"accumulate(%orders.subTotal%,sale)"}),(0,r.jsx)(n.td,{children:"1304.84"}),(0,r.jsx)(n.td,{children:"accumulate within JSON Array"})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"notes",children:"Notes"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.em,{children:"gpsObject Example"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "latitude": 37.3382,\n  "longitude": -121.8863\n}\n'})})]})}function x(e={}){const{wrapper:n}={...(0,t.a)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}},9725:(e,n,s)=>{s.d(n,{Z:()=>r});const r=s.p+"assets/images/synth-expressions-76418d608716eebcc46b7fe7f52ce99c.png"},1151:(e,n,s)=>{s.d(n,{Z:()=>l,a:()=>d});var r=s(7294);const t={},i=r.createContext(t);function d(e){const n=r.useContext(i);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:d(e.components),r.createElement(i.Provider,{value:n},e.children)}}}]);